<app-main-template>
  <div class="flex w-full justify-between">
    <h1 class="text-3xl">MOA Details</h1>
  </div>
  <hr class="mb-2 mt-2 h-[2px] w-full bg-neutral-300" />
  <div class="flex justify-between gap-4">
    <div
      class="w-[40%] rounded-lg border border-gray-200 bg-gray-100 p-4 shadow"
    >
      <div class="flex justify-between">
        <h2 class="text-2xl font-medium">{{ company[0] }}</h2>
      </div>
      <hr class="mb-6 mt-2 h-[2px] w-full bg-neutral-300" />
      <table class="w-full rounded-lg border-2 border-gray-200 bg-white p-4">
        <tbody>
          <tr
            class="border-b bg-white text-center text-sm font-medium dark:border-gray-700 dark:bg-gray-800"
          >
            <td class="px-6 py-4">Relevance</td>
            <td class="px-6 py-4">{{ company[5] }}</td>
          </tr>
          <tr
            class="border-b bg-white text-center text-sm font-medium dark:border-gray-700 dark:bg-gray-800"
          >
            <td class="px-6 py-4">Scope of Work</td>
            <td class="px-6 py-4">{{ company[12] }}</td>
          </tr>
          <tr
            class="border-b bg-white text-center text-sm font-medium dark:border-gray-700 dark:bg-gray-800"
          >
            <td class="px-6 py-4">Career Development</td>
            <td class="px-6 py-4">{{ company[25] }}</td>
          </tr>
          <tr
            class="border-b bg-white text-center text-sm font-medium dark:border-gray-700 dark:bg-gray-800"
          >
            <td class="px-6 py-4">DSS Result</td>
            <td class="px-6 py-4">{{ companyDB.dssAveRating }}</td>
          </tr>
          <tr
            class="border-b bg-white text-center text-sm font-medium dark:border-gray-700 dark:bg-gray-800"
            [ngClass]="{
              'past-date': isPastDate(companyDB.formattedEffectivityEndDate)
            }"
          >
            <td class="px-6 py-4">Effectivity End Date</td>
            <td class="px-6 py-4">
              {{ companyDB.formattedEffectivityEndDate }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div
      class="w-[60%] rounded-lg border border-gray-200 bg-lime-700 p-4 shadow"
    >
      <div class="flex justify-between text-white">
        <h2 class="text-2xl font-medium">Survey Metrics</h2>
      </div>
      <hr class="mb-6 mt-2 h-[2px] w-full bg-neutral-300" />
      <table class="w-full rounded-lg border-2 border-gray-200 bg-white p-4">
        <tbody>
          <tr
            class="border-b bg-white text-center text-sm font-medium dark:border-gray-700 dark:bg-gray-800"
          >
            <td class="px-6 py-4">Responses from CS-CSE</td>
            <td class="px-6 py-4">{{ surveyCounts[0] }}</td>
          </tr>
          <tr
            class="border-b bg-white text-center text-sm font-medium dark:border-gray-700 dark:bg-gray-800"
          >
            <td class="px-6 py-4">Responses from CS-NIS</td>
            <td class="px-6 py-4">{{ surveyCounts[1] }}</td>
          </tr>
          <tr
            class="border-b bg-white text-center text-sm font-bold dark:border-gray-700 dark:bg-gray-800"
          >
            <td class="px-6 py-4">Total Response Rate</td>
            <td class="px-6 py-4">{{ surveyCounts[2] }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div
    class="w-[100%] rounded-lg border border-gray-200 bg-gray-100 p-4 shadow"
  >
    <div class="flex justify-between">
      <h2 class="text-2xl font-medium">Charts</h2>
    </div>
    <hr class="mb-6 mt-2 h-[2px] w-full bg-neutral-300" />
    <div class="flex w-full border-2 border-gray-200 bg-white p-4">
      <div class="block w-1/2 p-5">
        <app-moa-bar [data]="barData"></app-moa-bar>
      </div>
      <div class="block w-1/2 p-5">
        <app-moa-radar [data]="radarData"></app-moa-radar>
      </div>
    </div>
  </div>
</app-main-template>
<app-loading></app-loading>
