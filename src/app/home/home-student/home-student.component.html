<!-- APPROACHING DEADLINE -->
<div
  class="mb-2 w-full rounded-lg border border-orange-500 bg-orange-50 p-4 shadow"
  *ngIf="almostDue"
>
  <div class="bg- flex items-center">
    <ng-icon
      name="matNotificationsActiveOutline"
      size="2.25rem"
      class="text-orange-500"
    ></ng-icon>
    <p class="ml-2 text-sm font-medium text-gray-900">
      You have pending submissions due in
      <b class="text-orange-500"> {{ almostDueStr }}! </b>
      <a
        [routerLink]="'/documentHub/student'"
        class="text-sm font-bold text-blue-600 hover:text-blue-500 hover:underline"
        >Settle your requirements now.</a
      >
    </p>
  </div>
</div>

<!-- DEADLINE PASSED -->
<div
  class="mb-2 w-full rounded-lg border border-red-600 bg-red-50 p-4 shadow"
  *ngIf="overdue"
>
  <div class="bg- flex items-center">
    <ng-icon
      name="matNotificationImportantOutline"
      size="2.25rem"
      class="text-red-600"
    ></ng-icon>
    <p class="ml-2 text-sm font-medium text-gray-900">
      You have pending submissions that have exceeded the deadline.
      <b class="text-red-600"> Immediate action is required. </b>
      <a
        [routerLink]="'/documentHub/student'"
        class="text-sm font-bold text-blue-600 hover:text-blue-500 hover:underline"
        >Settle your requirements now.</a
      >
    </p>
  </div>
</div>

<!-- STUDENT MIGRATION (ONGOING) ALERT -->
<div
  class="mb-2 w-full rounded-lg border border-amber-300 bg-yellow-50 p-4 shadow"
  *ngIf="requested"
>
  <div class="flex items-center">
    <ng-icon
      name="matLightbulbOutline"
      size="2.25rem"
      class="text-amber-300"
    ></ng-icon>
    <p class="ml-2 text-sm font-medium text-gray-900">
      Your request for migration is currently being processed.
    </p>
  </div>
</div>
<!-- STUDENT MIGRATION (APPROVED) ALERT -->
<div
  class="mb-2 w-full rounded-lg border border-lime-700 bg-emerald-50 p-4 shadow"
  *ngIf="approved"
>
  <div class="flex items-center">
    <ng-icon
      name="matCheckCircleOutline"
      size="2.25rem"
      class="text-lime-700"
    ></ng-icon>
    <p class="ml-2 text-sm font-medium text-gray-900">
      Your request for migration has been approved. Please make the necessary
      resubmissions for your new company deployment.
    </p>
  </div>
</div>
<div class="mt-4 flex w-full gap-4">
  <div
    class="block w-full rounded-lg border border-gray-200 bg-white p-4 shadow"
  >
    <h3 class="text-xl font-semibold">Welcome, {{ studentName }}!</h3>
    <h4 class="text-sm font-medium text-neutral-400">
      {{ datetimeNow }}
    </h4>
    <hr class="mb-4 h-[1px] w-full bg-neutral-300" />
    <table
      class="text-l mt-10 w-full table-fixed text-left text-neutral-800 dark:text-gray-400 rtl:text-right"
    >
      <tbody>
        <tr
          class="border-b bg-white text-center hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600"
        >
          <td class="px-6 py-2 font-bold">Current Practicum Phase</td>
          <td
            class="rounded-lg px-6 py-2 font-semibold"
            [ngClass]="{
              'bg-amber-300': ojtPhase === 'Pre-Deployment',
              'dark:bg-amber-400': ojtPhase === 'Pre-Deployment',
              'bg-green-300': ojtPhase === 'Deployment',
              'dark:bg-green-400': ojtPhase === 'Deployment',
              'bg-red-400': ojtPhase === 'Post-Deployment',
              'dark:bg-red-500': ojtPhase === 'Post-Deployment',
              'bg-gray-200': ojtPhase === 'Completed',
              'dark:bg-gray-600': ojtPhase === 'Completed'
            }"
          >
            {{ ojtPhase }}
          </td>
        </tr>
        <tr
          class="border-b bg-white text-center hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600"
        >
          <td class="px-6 py-2 font-bold">HTE</td>
          <td class="px-6 py-2">{{ company ?? 'N/A' }}</td>
        </tr>
        <tr
          class="border-b bg-white text-center hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600"
        >
          <td class="px-6 py-2 font-bold">Start Date</td>
          <td class="px-6 py-2">{{ startDate ?? 'N/A' }}</td>
        </tr>
        <tr
          class="border-b bg-white text-center hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600"
        >
          <td class="px-6 py-2 font-bold">End Date</td>
          <td class="px-6 py-2">{{ endDate ?? 'N/A' }}</td>
        </tr>
        <tr
          class="border-b bg-white text-center hover:bg-gray-50 dark:border-gray-700 dark:bg-gray-800 dark:hover:bg-gray-600"
          *ngIf="ojtPhase !== 'Pre-Deployment'"
        >
          <td class="px-6 py-2 font-bold">Total Rendered Hours</td>
          <td class="px-6 py-2">
            {{ hoursRendered }} out of {{ hoursRequired }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="flex w-full flex-col gap-4">
    <div
      class="block w-full rounded-lg border border-gray-200 bg-white p-4 shadow"
    >
      <h3 class="text-xl font-semibold">Pending Submissions</h3>
      <hr class="mb-4 h-[1px] w-full bg-neutral-300" />
      <h1 class="pb-3.5 text-center text-5xl font-bold">
        {{ pendingSubmissions }}
      </h1>
      <div style="float: inline-end">
        <button
          class="flex items-center justify-center gap-3 rounded bg-lime-700 px-6 py-2 hover:bg-lime-600 dark:bg-lime-700 dark:hover:bg-lime-600"
          type="button"
          routerLink="/documentHub/student"
        >
          <p class="text-xs font-medium text-white">View Submissions</p>
          <ng-icon
            name="matChevronRightOutline"
            size="24px"
            class="mr-0 text-white"
          ></ng-icon>
        </button>
      </div>
    </div>
    <div
      class="block w-full rounded-lg border border-gray-200 bg-white p-4 shadow"
    >
      <h3 class="text-xl font-semibold">Unread Messages</h3>
      <hr class="mb-4 h-[1px] w-full bg-neutral-300" />
      <h1 class="pb-3.5 text-center text-5xl font-bold">
        {{ unreadMessages }}
      </h1>
      <div style="float: inline-end">
        <button
          class="flex items-center justify-center gap-3 rounded bg-lime-700 px-6 py-2 hover:bg-lime-600 dark:bg-lime-700 dark:hover:bg-lime-600"
          type="button"
          routerLink="/inbox"
        >
          <p class="text-xs font-medium text-white">Open Inbox</p>
          <ng-icon
            name="matChevronRightOutline"
            size="24px"
            class="mr-0 text-white"
          ></ng-icon>
        </button>
      </div>
    </div>
  </div>
</div>
